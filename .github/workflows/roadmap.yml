name: ðŸš€ Roadmap.sh Mirror 

on:
  schedule:
    - cron: '0 * * * *'
  workflow_dispatch:

jobs:
  mirror:
    runs-on: ubuntu-latest
    name: Sync
    steps:
      - name: Setup
        uses: actions/checkout@v4
        
      - name: Clone Upstream Repository
        run: |
          git clone --mirror https://github.com/kamranahmedse/developer-roadmap.git upstream
          cd upstream
          
      - name: Sync
        uses: offensive-vk/auto-repo-sync@master
        with:
          target-url: https://github.com/offensive-vk/Roadmap.sh.git
          target-username: TheHamsterBot
          target-token: ${{ secrets.BOT_TOKEN }}

      - name: Sync
        uses: offensive-vk/auto-repo-sync@master
        with:
          target-url: https://gitlab.com/offensive-vk/Roadmap.sh.git
          target-username: offensive-vk
          target-token: ${{ secrets.GITLAB_TOKEN }}
  